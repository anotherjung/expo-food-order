# Backend Database

npm install @supabase/supabase-js
npm install react-native-elements @react-native-async-storage/async-storage react-native-url-polyfill
npx expo install expo-secure-store

mkdir lib && touch lib/supabase.ts
- API Keys

app/(auth)/sign-up.tsx
- import { supabase } from "@/lib/supabase";
- const { error } = await supabase.auth.signUp({ email, password });

app/(auth)/sign-in.tsx
- import { supabase } from "@/lib/supabase";
- const { error } = await supabase.auth.signInWithPassword({ email, password });

touch providers/AuthProvider.tsx
- type AuthData
- const AuthContext = createContext<AuthData>({...})
- useEffect to mount auth provider
- const fetchSession = async () => { ... data.session }
- export const useAuth = () => useContext(AuthContext);
- supabase subscribe, supabase.auth.onAuthStateChange((_event, session) => { setSession(session); });
- AuthContext.Provider value={{ session, loading }} 

app/_layout.tsx
- RootLayoutNav
- import AuthProvider from '@/providers/AuthProvider';
- return <AuthProvider>...

## session

app/(auth)/_layout.tsx
- const { session } = useAuth();
- Redirect href={'/'} 

## session logout

app/index.tsx
- import { supabase } from '@/lib/supabase';
- Button onPress={() => supabase.auth.signOut()} text="Sign out" 

## session admin

- superbase, SQL editor, QuickStarts, User Management Starter
- click run, bottom right
- database managementm, tables, public, profiles
- create column, group, text, nullable 

providers/AuthProvider.tsx
- add type,     isAdmin: boolean;
- add context,     isAdmin: false,
- add AuthContext.Provider value, providers/AuthProvider.tsx

app/index.tsx
-  const { session, loading, isAdmin } = useAuth();
- if (!isAdmin) Redirect

app/(admin)/_layout.tsx
- import { useAuth } from '@/providers/AuthProvider';
- const { isAdmin } = useAuth();
- if (!isAdmin) Redirect